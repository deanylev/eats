<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dean's Favourite Eats</title>
  <meta name="description" content="nom">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;700&display=swap" rel="stylesheet">
  <style>
    body {
      background: #180321;
      color: #fcf6fe;
      font-family: 'Poppins', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      padding: 15px;
    }

    .title {
      font-size: 50px;
      line-height: 60px;
    }

    @media only screen and (max-width: 600px) {
      .title {
        font-size: 35px;
      }
    }

    @media only screen and (max-width: 400px) {
      .title {
        font-size: 30px;
      }
    }

    .heading {
      font-size: 28px;
      padding-top: 15px;
    }

    .subHeading {
      color: #e8a61a;
      font-size: 20px;
      font-weight: 700;
      padding-left: 5px;
      text-decoration: underline;
    }

    .body {
      padding: 10px;
    }

    .sorting > div {
      padding: 3px 0;
    }

    #placesContainer {
      align-items: flex-start;
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 25px;
    }

    #placesContainer > div {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    #placesContainer > div > div {
      background: rgba(0, 0, 0, 0.3);
      border-radius: 10px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      max-width: 450px;
      padding: 15px 20px;
    }

    #placesContainer > div > div > .areaOrType {
      font-style: italic;
    }
  </style>
</head>
<body>
  <div class="title">Dean's Favourite Eats</div>
  <div><span id="numPlaces">n</span> entries and counting</div>
  <div class="body">
    <div class="sorting">
      <div>
        <label for="city">City:</label>
        <select id="city"></select>
      </div>
      <div>
        <label for="category">Categorise By:</label>
        <select id="category">
          <option value="area">Area</option>
          <option value="type">Type of Food</option>
        </select>
      </div>
      <div>
        <label for="status">Status:</label>
        <select id="status">
          <option value="tried">Tried</option>
          <option value="wanted">Want to Try</option>
        </select>
      </div>
    </div>
    <div id="placesContainer"></div>
  </div>
  <script>
    // too tired of Create React App

    const emojisByType = {
      American: '🇺🇸',
      Australian: '🦘',
      BBQ: '🍖',
      Bagels: '🥯',
      Bakery: '🍞',
      Berders: '🍔',
      Cafes: '☕️',
      Cookies: '🍪',
      Diner: '🥞',
      Donuts: '🍩',
      Dutch: '🇳🇱',
      'Food Court': '🍴',
      French: '🇫🇷',
      'Fried Chicken': '🍗',
      German: '🇩🇪',
      Greek: '🇬🇷',
      'Ice Cream': '🍦',
      Indian: '🇮🇳',
      Italian: '🍝',
      Japanese: '🍣',
      Mexican: '🌮',
      Pizza: '🍕',
      Pub: '🍻',
      Sandwiches: '🥖',
      Steak: '🥩',
      Thai: '🇹🇭'
    };
    const triedPlaces = {
      Australia: {
        Melbourne: [
          {
            area: 'Armadale',
            name: "Hank's Café & Bagelry",
            notes: 'Came here because of a TikTok and did not disappoint. Great coffee and bagels, loved both the pastrami and schnitzel',
            type: 'Bagels',
            url: 'https://maps.app.goo.gl/KWFtUbgrURAfaxMZ9'
          },
          {
            area: 'Armadale',
            name: 'Neighbourhood Pizza',
            notes: "Haven't had the pasta but the pizza is delicious",
            type: 'Italian',
            url: 'https://maps.app.goo.gl/GkRp3E7U9TQFKEZbA'
          },
          {
            area: 'Malvern',
            name: 'Kolonaki',
            notes: 'Genuinely one of the tastiest places in Melbourne. Wish they would answer the damn phone!',
            type: 'Greek',
            url: 'https://maps.app.goo.gl/9JuWQS1p1cespya3A'
          },
          {
            area: 'Bentleigh',
            name: 'Da Giuseppe',
            notes: 'Some of my favourite woodfire pizza, really nice family run place',
            type: 'Pizza',
            url: 'https://maps.app.goo.gl/Ee5AVG9Gm8fciTry8'
          },
          {
            area: 'Bentleigh',
            name: 'Sushi Factory',
            notes: 'Cheap, delicious sushi. A staple of Centre Rd',
            type: 'Japanese',
            url: 'https://maps.app.goo.gl/WRYJVVWQvBjf4vxe9'
          },
          {
            area: 'Bentleigh',
            name: "Milo's Deli",
            notes: 'For a while I got a sandwich here every single Friday, they are delicious',
            type: 'Sandwiches',
            url: 'https://maps.app.goo.gl/U9RckXW1xE9atvzC6'
          },
          {
            area: 'McKinnon',
            name: 'Ohana',
            notes: 'Delicious woodfired pizza and super friendly staff. Recommended to me by Nat, the CEO of Vivi, and did not disappoint',
            type: 'Pizza',
            url: 'https://maps.app.goo.gl/qR1WsxQX9ZHpjCpr9'
          },
          {
            area: 'Brighton',
            name: 'Cucina & Co',
            notes: 'Delicious pizza and pasta. Came back plenty of times even though they made us wait literally an hour for our booked table on our first visit',
            type: 'Italian',
            url: 'https://maps.app.goo.gl/VNPdkSGgdih61W6A7'
          },
          {
            area: 'Brighton',
            name: 'Saint Martins Café',
            notes: 'Great coffee and an absolutely delicious beef berder (spoiled somewhat by being served with crisps instead of fries)',
            type: 'Cafes',
            url: 'https://maps.app.goo.gl/tffXhHyXH8bGYgUP9'
          },
          {
            area: ['Brighton', 'Camberwell', 'Elsternwick'],
            name: 'Kokoro',
            notes: 'Great sushi train, lots of variety and not too expensive',
            type: 'Japanese',
            url: 'https://www.kokorosushi.com.au'
          },
          {
            area: 'Carlton',
            name: 'Capitano',
            notes: 'Deep dish pizza to die for. I think the pasta and tiramisu are kind of overrated but the deep dish more than makes up for it',
            type: 'Italian',
            url: 'https://maps.app.goo.gl/kMfZYJxK9BADeeJv9'
          },
          {
            area: 'CBD',
            name: 'Five Guys',
            notes: 'Genuinely my favourite berders in Melbourne. Great milkshakes too',
            type: 'Berders',
            url: 'https://maps.app.goo.gl/67jsqjcVt2SMTRD99'
          },
          {
            area: 'Prahan',
            name: 'Le Petit Marché',
            notes: 'Entrecôte steak and sauce in a delicious baguette. Hits the spot every time',
            type: 'Sandwiches',
            url: 'https://maps.app.goo.gl/Q6U1fDVD7GsFMx2VA'
          },
          {
            area: 'Prahan',
            name: 'Hobba',
            notes: 'Great coffee + chicken and waffles ❤️',
            type: 'Cafes',
            url: 'https://maps.app.goo.gl/BPkJe2DecMmiUtVm7'
          },
          {
            area: ['Prahan', 'Port Melbourne'],
            name: 'Marbl',
            notes: 'Best steak in town, especially for the money. Extremely friendly owners',
            type: 'Steak',
            url: 'https://www.marblsteakhouse.com.au'
          },
          {
            area: ['Richmond', 'South Melbourne', 'Fitzroy'],
            name: "Hector's Deli",
            notes: 'Beef and pickles toastie is geniuinely to die for, and some of the best glazed donuts I have ever had. Great coffee too',
            type: 'Sandwiches',
            url: 'https://hectorsdeli.com.au/pages/pre-order'
          },
          {
            area: 'St Kilda',
            name: 'Radio Mexico',
            notes: 'The only Mexican food I have had outside the US that I genuinely love',
            type: 'Mexican',
            url: 'https://maps.app.goo.gl/6ZFv2gMTUo7VN8ZY6'
          },
          {
            area: ['St Kilda', 'Hawthorn'],
            name: 'Rococo',
            notes: 'Well known but slept on. Huge menu variety and always (I mean always) has a table available last minute',
            type: 'Italian',
            url: 'https://www.rococo.net.au'
          },
          {
            area: 'South Yarra',
            name: 'Gilson',
            notes: "Melbourne's version of Bar Totti's, i.e. you rip off pieces of delicious bread and dip it in toppings of your choice. Great pasta too",
            type: 'Italian',
            url: 'https://maps.app.goo.gl/jHDwJwrtGocZuPqA8'
          },
          {
            area: 'South Yarra',
            name: "Leonard's House of Love",
            notes: 'Best fried chicken berder in Melbourne. I used to come here with my coworkers in the early, scrappy days of Vivi so it holds a special place in my heart',
            type: 'Pub',
            url: 'https://maps.app.goo.gl/YzUG1E4GR4PHka2K7'
          },
          {
            area: 'South Yarra',
            name: 'Moose Bar & Café',
            notes: 'I get a berder and chips here at least once a week, so simple and tasty. Staff are all absolute legends',
            type: 'Cafes',
            url: 'https://maps.app.goo.gl/KsoW4EUNhCV99NDo7'
          },
          {
            area: 'South Yarra',
            name: 'Pink Ginger JP',
            notes: 'Fresh, delicious Japanese food, a great lunch spot',
            type: 'Japanese',
            url: 'https://maps.app.goo.gl/KQdb9YJMA9YxYbh28'
          },
          {
            area: 'South Yarra',
            name: 'itteki',
            notes: "Adorable Japanese cafe with some of the nicest staff around, great coffee, and extremely high quality merch of the owner's Shiba Inu. No food or proper seating, but I love this place so much that it has to get a mention",
            type: 'Cafes',
            url: 'https://maps.app.goo.gl/arRRrqF1Eo44jaoNA'
          },
          {
            area: 'Brighton',
            name: 'Bantatthong Thai Restaurant',
            notes: 'I am not the biggest fan of Thai food but this place is excellent, and very reasonably priced, especially for the area',
            type: 'Thai',
            url: 'https://maps.app.goo.gl/qTQ2B4t5p4b9uyRX9'
          },
          {
            area: 'Hawthorn',
            name: 'Piccolo Panini Bar',
            notes: 'Waited 45 minutes for the sandwich but it was well worth it, delicious bread and schnitzel',
            type: 'Sandwiches',
            url: 'https://maps.app.goo.gl/DFG9JVJ3GHL4Sup39'
          }
        ],
        Rye: [
          {
            area: 'Red Hill',
            name: 'Red Gum BBQ',
            notes: 'Not technically in Rye but a close enough drive if you are staying there. Absolutely delicious BBQ meats + mac and cheese. Would love to try dessert next time.',
            type: 'BBQ',
            url: 'https://maps.app.goo.gl/PkLpJ66hbdJecGte6'
          },
          {
            area: 'Rye',
            name: 'STORE 360 RYE',
            notes: 'Amazing chicken baguette and coffee',
            type: 'Bakery',
            url: 'https://maps.app.goo.gl/PkLpJ66hbdJecGte6'
          }
        ],
        Sydney: [
          {
            area: ['CBD', 'Bondi'],
            name: "Bar Totti's",
            notes: "Bread w/ toppings and pasta are absolutely out of this world. Will never forget coming here for my friend Mia's birthday in activewear and splitting a $700 bottle of wine",
            type: 'Italian',
            url: 'https://merivale.com/venues/bar-tottis/'
          },
          {
            area: ['Bondi', 'Coogee'],
            name: "Little L Burgers",
            notes: 'Known for their chicken berder but I actually think their beef berders are absolutely delicious',
            type: 'Berders',
            url: 'https://little-l.com.au'
          },
          {
            area: 'Bondi',
            name: 'Macelleria',
            notes: 'Have had the steak, sausages and berders and they are all delicious',
            type: 'Steak',
            url: 'https://maps.app.goo.gl/p154765mheEBRCgs9'
          }
        ],
        Torquay: [
          {
            name: 'Pond Cafe',
            notes: 'Brisket sandwich to die for. Salty that they changed its ingredients some time between 2023 and 2023 but it still does the trick',
            type: 'Cafes',
            url: 'https://maps.app.goo.gl/emmRAwqHaPQUQXTx9'
          },
          {
            name: 'Pearl',
            notes: 'Simple, delicious pasta',
            type: 'Italian',
            url: 'https://maps.app.goo.gl/Dpjkp5aaza5phcDk6'
          },
          {
            name: 'Mortadeli',
            notes: "The coffee is a bit average, the merch sucks (sorry guys) but the sandwiches are bangin'",
            type: 'Sandwiches',
            url: 'https://maps.app.goo.gl/UYAC8dq5FtvLeXgW9'
          }
        ]
      },
      Italy: {
        Florence: [
          {
            name: 'Casella 18',
            notes: 'The single best meal I have ever eaten. Seriously. Pizza, pasta, and tiramisu are all must-orders',
            type: 'Italian',
            url: 'https://maps.app.goo.gl/AcvLqwfeNxtoKpQ26'
          }
        ]
      },
      Netherlands: {
        Amsterdam: [
          {
            name: 'Manneken Pis Damrak',
            notes: 'Do not make the mistake of getting anything other than manneken pis sauce',
            type: 'Dutch',
            url: 'https://maps.app.goo.gl/vRbD1RXiun9L6KRM6'
          },
          {
            name: 'Van Stapele Koekmakerij',
            notes: 'Absolutely delicious cookies, rivals Levains',
            type: 'Cookies',
            url: 'https://maps.app.goo.gl/Xx34w1PbUcqk1rXj6'
          }
        ]
      },
      USA: {
        'New York': [
          {
            area: 'Downtown',
            name: "Katz's Delicatessen",
            notes: 'Truly lives up to the hype',
            type: 'Sandwiches',
            url: 'https://maps.app.goo.gl/sLUQUaj5tACoLfwa6'
          },
          {
            area: 'West Side',
            name: 'Levain Bakery',
            notes: 'Cookies are to die for',
            type: 'Cookies',
            url: 'https://maps.app.goo.gl/76GDxrSL7yd7gS7J9'
          }
        ]
      }
    };
    const wantedPlaces = {
      Australia: {
        Melbourne: [
          {
            area: 'CBD',
            name: 'Gourmet Curry Hut Indian Cuisine',
            notes: 'First Google result for "best butter chicken in melbourne"',
            type: 'Indian',
            url: 'https://maps.app.goo.gl/Pzo8BzeNhHG2kUrx9'
          },
          {
            area: 'Prahan',
            name: 'Rossi',
            notes: 'Tiramisu looks absolutely nuts',
            type: 'Italian',
            url: 'https://maps.app.goo.gl/vXJ9kyNzuVw22Uf86'
          },
          {
            area: 'CBD',
            name: 'Waffle On',
            notes: 'The baguette sandwich is so cheap and looks unbelievable',
            type: 'Sandwiches',
            url: 'https://maps.app.goo.gl/TU61p7Zd1ErgdPzy5'
          },
          {
            area: 'Oakleigh',
            name: 'Mythos Gyros Bar',
            notes: 'Saw on TikTok and just looks so tasty',
            type: 'Greek',
            url: 'https://maps.app.goo.gl/GHv4gC82QorWkKTSA'
          },
          {
            area: 'Windsor',
            name: "Freddy's",
            notes: 'Looks like seriously cozy woodfire pizza and beer',
            type: 'Pizza',
            url: 'https://maps.app.goo.gl/zvdNKwFMNFZ7nQi88'
          },
          {
            area: 'Prahan',
            name: 'Entrecôte',
            notes: 'Have had the delicious sandwiches from next door (see, Le Petit Marché) and have eaten at the original in Paris, but this one has a far wider menu and was described by a friend as his favourite restaurant in all of Melbourne',
            type: 'French',
            url: 'https://maps.app.goo.gl/J1QcFP68ZRLhTWpVA'
          },
          {
            area: 'Carlton',
            name: "Johnny, Vince and Sam's Ristorante",
            notes: 'Supposedly super authentic and delicious Italian',
            type: 'Italian',
            url: 'https://maps.app.goo.gl/x7PZhyrJJZPseTLU6'
          },
          {
            area: 'Carlton',
            name: 'Shooter McGavins',
            notes: 'The chicken sandwich looks unbelievably good',
            type: 'Sandwiches',
            url: 'https://maps.app.goo.gl/mRHf2JsV5PzSymES6'
          },
          {
            area: 'Richmond',
            name: 'Pizzeria Da Bruno',
            notes: 'Looks like tasty, fancy Italian',
            type: 'Italian',
            url: 'https://maps.app.goo.gl/7TCS2UkDNF2M3C1G9'
          },
          {
            area: 'South Yarra',
            name: 'Caffe e Cucina',
            notes: 'Looks like expensive, delicious pasta',
            type: 'Italian',
            url: 'https://maps.app.goo.gl/q8iwFpACLmkQ24fX7'
          },
          {
            area: 'Richmond',
            name: 'Union House',
            notes: 'Wednesday steak night is meant to go hard',
            type: 'Steak',
            url: 'https://maps.app.goo.gl/QEAkKjWNR4Av1xMh7'
          },
          {
            area: 'CBD',
            name: 'Hofbräuhaus',
            notes: 'Had drinks and pretezels here once, want to come back and try the schnitzel',
            type: 'German',
            url: 'https://maps.app.goo.gl/ci1uCPkEmAo9G1o39'
          },
          {
            area: 'South Yarra',
            name: 'Chez Olivier Le Bistro',
            notes: 'Saw this on TikTok and was sold by how good the starter bread and butter looks, let alone the steak',
            type: 'French',
            url: 'https://maps.app.goo.gl/mKM1KPdYXGALi6Ls5'
          },
          {
            area: 'Brunswick',
            name: '400 Gradi',
            notes: 'Apparently the best pizza in Australia',
            type: 'Italian',
            url: 'https://maps.app.goo.gl/X2cJpMVvPbn5Qir49'
          },
          {
            area: 'South Yarra',
            name: "Zita's Focaccia",
            notes: 'Family run Italian joint, apparently the recipes are old nonna ones',
            type: 'Sandwiches',
            url: 'https://maps.app.goo.gl/CzgvbbzmTkXyEfVf7'
          },
          {
            area: 'Thornbury',
            name: '1800 Lasagne',
            notes: 'Garlic bread and lasagne look so good',
            type: 'Italian',
            url: 'https://maps.app.goo.gl/mQFeZACcWwZC8AUu5'
          },
          {
            area: 'Collingwood',
            name: 'Stefanino Panino',
            notes: 'Looks like a great deli-style sandwich place',
            type: 'Sandwiches',
            url: 'https://maps.app.goo.gl/FPndwCLgARnuaBe16'
          },
          {
            area: 'CBD',
            name: "Ronnie's",
            notes: 'The focaccia and vodka pasta both look so good',
            type: 'Italian',
            url: 'https://maps.app.goo.gl/wGgCLswokMB55ZMJ8'
          },
          {
            area: 'Brunswick',
            name: "Luther's Scoops",
            notes: 'Bit of a trek for ice cream but it does look really good',
            type: 'Ice Cream',
            url: 'https://maps.app.goo.gl/foF2EcZqMmeCS5Kv7'
          },
          {
            area: ['Hawthorn', 'Windsor'],
            name: 'The Cookie Box',
            notes: "Not sure it'll be Levain level but it does look very good",
            type: 'Cookies',
            url: 'https://thecookiebox.com.au'
          },
          {
            area: 'CBD',
            name: 'Shortstop Coffee & Donuts',
            notes: 'The donuts look delicious without being sickly sweet',
            type: 'Donuts',
            url: 'https://maps.app.goo.gl/8uGmwqkSDd6epkhYA'
          },
          {
            area: 'Carlton North',
            name: 'Florian',
            notes: 'Apparently the chicken sandwich is amazing',
            type: 'Cafes',
            url: 'https://maps.app.goo.gl/BTmGtZUUG71vYras7'
          },
          {
            area: 'CBD',
            name: 'Operator Diner',
            notes: 'Pretty reasonably priced and food looks true to proper American diners',
            type: 'Diner',
            url: 'https://maps.app.goo.gl/B1GsGRtnTkfg952X6'
          },
          {
            area: 'CBD',
            name: 'The Waiters Restaurant',
            notes: 'Homey-looking place tucked away in a laneway, food looks delicious',
            type: 'Italian',
            url: 'https://maps.app.goo.gl/Pf6NTAikn7c1TqrF6'
          }
        ],
        Sydney: [
          {
            area: ['CBD', 'Double Bay'],
            name: 'Matteo',
            notes: 'Have heard the pasta and tiramisu are great',
            type: 'Italian',
            url: 'https://www.matteosydney.com'
          },
          {
            area: ['Moore Park', 'Circular Quay', 'Newtown'],
            name: "Mary's",
            notes: "An American on TikTok said this was the closest thing he's had in Australia to an American chicken sandwich",
            type: 'Berders',
            url: 'https://www.marys.wtf'
          },
          {
            area: 'Rosebery',
            name: 'Kostas Takeaway',
            notes: 'Seen on TikTok, sandwiches look really tasty',
            type: 'Sandwiches',
            url: 'https://maps.app.goo.gl/rkQrCRzT7W2GgDbX8'
          },
          {
            area: 'Chippendale',
            name: 'Spice Alley',
            notes: "Mimi's recommendation",
            type: 'Food Court',
            url: 'https://maps.app.goo.gl/8T26rnuVBxaoX3719'
          }
        ],
      },
      UK: {
        London: [
          {
            area: 'Shoreditch',
            name: 'Butchies',
            notes: 'The fried chicken looks absolutely unbelievable',
            type: 'Fried Chicken',
            url: 'https://maps.app.goo.gl/APp72NxB3UpA9ZuP7'
          },
          {
            area: 'Downtown',
            name: 'Supernova',
            notes: 'The berders and ice cream look fantastic',
            type: 'Berders',
            url: 'https://maps.app.goo.gl/eoomAzFr63U7QUkj9'
          },
          {
            area: ['East London', 'Central London', 'City of London', 'West London'],
            name: 'Bleecker Burger',
            notes: 'Some say overrated but they look like pretty solid berders',
            type: 'Berders',
            url: 'https://www.bleecker.co.uk'
          },
          {
            area: 'Central London',
            name: 'Manna',
            notes: 'Look like absolutely solid smash berders',
            type: 'Berders',
            url: 'https://maps.app.goo.gl/mf57av4CfvxdMq3q6'
          },
          {
            area: 'North London',
            name: 'The Plimsoll',
            notes: 'Apparently the best berders in London',
            type: 'Berders',
            url: 'https://maps.app.goo.gl/3DFcQE2UFCnKvT7T7'
          }
        ]
      },
      USA: {
        Austin: [
          {
            name: 'Franklin Barbacue',
            notes: 'Supposed to be the best BBQ in the world',
            type: 'BBQ',
            url: 'https://maps.app.goo.gl/yGd7fMYYMH3jw4pq8'
          }
        ],
        Chicago: [
          {
            name: "Johnnie's Beef",
            notes: 'Italian beef sandwiches are meant to be fuuucked',
            type: 'American',
            url: 'https://maps.app.goo.gl/x7vaWHJYq8Xezosb7'
          },
          {
            name: "Portillo's",
            notes: 'Gotta be one of the most famous fast food places in the world, Greg Miller even named his beloved sausage dog after it',
            type: 'American',
            url: 'https://maps.app.goo.gl/9cW4pyjcwtxspQHj7'
          },
          {
            name: "Pequod's Pizza",
            notes: 'Supposedly the best deep dish pizza around',
            type: 'Pizza',
            url: 'https://maps.app.goo.gl/PWdFbDdrhJQTaFZU8'
          }
        ],
        'Los Angeles': [
          {
            area: ['Silver Lake', 'Venice'],
            name: 'The Win~Dow',
            notes: 'I absolutely love smash berders, and these are meant to be some of the best in LA',
            type: 'Berders',
            url: 'https://www.thewin-dow.la'
          },
          {
            area: 'Studio City',
            name: 'Easy Street Burgers',
            notes: 'Have seen multiple huge food TikTokers saying they are the best berders in LA',
            type: 'Berders',
            url: 'https://maps.app.goo.gl/1EmUHmqriAbfhary7'
          },
          {
            area: 'Venice',
            name: 'El Primo Taco',
            notes: 'Meant to be some of the best tacos in LA',
            type: 'Mexican',
            url: 'https://maps.app.goo.gl/VXCCW6Gy1wigvxXy9'
          },
          {
            area: 'Melrose Hill',
            name: 'Le Coupe',
            notes: 'The guy is a fine dining chef from Louisana so you know the chicken is going to smack',
            type: 'Fried Chicken',
            url: 'https://maps.app.goo.gl/zj2n3yFbFfcGDbqu8'
          }
        ],
        // https://en.wikipedia.org/wiki/List_of_Manhattan_neighborhoods
        'New York': [
          {
            area: 'Downtown',
            name: '4 Charles Prime Rib',
            notes: 'Meant to be the best berder in NYC, and the truffle mac and cheese + chocolate pie look absolutely unbelievable',
            type: 'Steak',
            url: 'https://maps.app.goo.gl/tPUxEgewTZcFJfm27'
          },
          {
            area: 'West Side',
            name: "Mama's TOO!",
            notes: 'Meant to be some of the best pizza in NYC',
            type: 'Pizza',
            url: 'https://maps.app.goo.gl/GMcUCepVJiWGz5Ua9'
          },
          {
            area: ['Downtown', 'East Side'],
            name: "Ruby's Cafe",
            notes: 'Apparently the berder and schnitzel are must tries',
            type: 'Australian',
            url: 'https://www.rubyscafe.com'
          },
          {
            area: 'West Side',
            name: 'Maison Pickle',
            notes: '24 layer chocolate cake...',
            type: 'American',
            url: 'https://maps.app.goo.gl/5e4L8TjTGtF1Q9jg7'
          },
          {
            area: ['Downtown', 'East Side', 'Midtown', 'Brooklyn'],
            name: "Joe's Pizza",
            notes: "Some claim it's overrated, want to find out for myself",
            type: 'Pizza',
            url: 'https://www.joespizzanyc.com'
          },
          {
            area: 'Downtown',
            name: "Bubby's",
            notes: 'Pancakes are meant to be amazing',
            type: 'American',
            url: 'https://maps.app.goo.gl/W9WwNyyWubu1oA3c8'
          },
          {
            area: ['East Side', 'Downtown', 'West Side'],
            name: 'Chip City',
            notes: "Not sure it can hold up to Levain but one way to find out",
            type: 'Cookies',
            url:' https://chipcitycookies.com'
          },
          {
            area: 'Downtown',
            name: 'Carbone',
            notes: 'Pretty spenny',
            type: 'Italian',
            url: 'https://maps.app.goo.gl/mgg9afNMgLxEJUa56'
          },
          {
            area: 'Brooklyn',
            name: "L'Industrie Pizzeria",
            notes: 'Pizza looks so absurdly good. They also have great looking sandwiches on a Wednesday, and great looking desserts',
            type: 'Pizza',
            url: 'https://maps.app.goo.gl/mbDmF1sKrK3TNZ6h7'
          },
          {
            area: ['Downtown', 'Midtown'],
            name: 'Los Tacos No.1',
            notes: 'This place has 4.8 stars out of 10k reviews... Tacos are meant to be fucked up',
            type: 'Mexican',
            url: 'https://www.lostacos1.com'
          },
          {
            area: ['Downtown', 'East Side'],
            name: 'Tompkins Square Bagels',
            notes: 'Bagels look so good',
            type: 'Bagels',
            url: 'https://www.tompkinssquarebagels.com'
          },
          {
            area: ['Downtown', 'Brooklyn'],
            name: 'Kith Treats',
            notes: 'Ice cream with toppings',
            type: 'Ice Cream',
            url: 'https://kith.com'
          },
          {
            area: ['Downtown', 'Midtown'],
            name: 'Liberty Bagels',
            notes: 'Apparently way better than Tompkins',
            type: 'Bagels',
            url: 'https://libertybagels.com/locations-2/'
          },
          {
            area: ['Midtown', 'West Side'],
            name: "Carmine's",
            notes: 'Italian food that is 4.5 out of 15k reviews, nuff said',
            type: 'Italian',
            url: 'https://www.carminesnyc.com/locations/times-square'
          },
          {
            area: 'Downtown',
            name: 'Prince Street Pizza',
            notes: 'S Q U A R E',
            type: 'Pizza',
            url: 'https://maps.app.goo.gl/vmFTPcT31DHyVPA67'
          },
          {
            area: 'Midtown',
            name: "Ellen's Stardust Diner",
            notes: 'I am dying to try a proper American diner and this one has almost 18k reviews',
            type: 'Diner',
            url: 'https://maps.app.goo.gl/AQFYhGK6Q3pR3Ppb9'
          },
          {
            area: 'Upper Manhattan',
            name: "Tom's",
            notes: "I only want to go here because it's the Seinfeld diner",
            type: 'Diner',
            url: 'https://maps.app.goo.gl/TsJ9AFV63zsQmQkT6'
          },
          {
            area: 'Downtown',
            name: 'Fiaschetteria "Pistoia"',
            notes: 'This place is "Tuscan" according to Google, whatever that actually means',
            type: 'Italian',
            url: 'https://www.fiaschetteriapistoia.com'
          },
          {
            area: ['Downtown', 'Midtown', 'Brooklyn'],
            name: "Raising Canes's Chicken Fingers",
            notes: 'Completely forgot to try this last time I was in NYC and forever kicking myself (I love fast food lol)',
            type: 'Fried Chicken',
            url: 'https://www.raisingcanes.com'
          },
          {
            area: ['Midtown', 'Downtown'],
            name: 'ALIDORO',
            notes: 'Italian deli sandwiches that look to die for',
            type: 'Sandwiches',
            url: 'https://www.alidoronyc.com'
          }
        ]
      }
    };

    let hashData = {};
    try {
      hashData = JSON.parse(decodeURIComponent(location.hash.slice(1)));
    } catch {
      // leave default
    }

    const getRawPlaces = (status = statusElement.value) => status === 'wanted' ? wantedPlaces : triedPlaces;
    const flattenRawPlaces = (rawPlaces) => Object.values(rawPlaces).flatMap((places) => Object.values(places).flat());

    // tests lol
    const isDev = location.protocol === 'file:';
    if (isDev) {
      for (const status of ['wanted', 'tried']) {
        const rawPlaces = getRawPlaces(status);
        const flattenedRawPlaces = flattenRawPlaces(rawPlaces);
        const failsTest = flattenedRawPlaces.filter(({ area, url }) => Array.isArray(area) && url.includes('maps')).map(({ name }) => name);
        if (failsTest.length > 0) {
          throw new Error(`places with multiple locations must link to website (see ${failsTest.join(', ')})`);
        }
      }
    }

    const numPlacesElement = document.getElementById('numPlaces');
    const numPlaces = ['wanted', 'tried'].reduce((count, status) => {
      const rawPlaces = getRawPlaces(status);
      return count + flattenRawPlaces(rawPlaces).length;
    }, 0);
    numPlacesElement.innerText = numPlaces;

    const cityElement = document.getElementById('city');
    let selectedCity = hashData.city || localStorage.getItem('city') || 'Melbourne';
    cityElement.value = selectedCity;
    cityElement.addEventListener('change', (event) => {
      selectedCity = event.target.value;
      setPlaces();
      localStorage.setItem('city', selectedCity);
    });

    const categoryElement = document.getElementById('category');
    categoryElement.value = hashData.category || localStorage.getItem('category') || 'area';
    categoryElement.addEventListener('change', (event) => {
      setPlaces();
      localStorage.setItem('category', event.target.value);
    });

    const statusElement = document.getElementById('status');
    statusElement.value = hashData.status || localStorage.getItem('status') || 'tried';
    statusElement.addEventListener('change', (event) => {
      setCities();
      setPlaces();
      localStorage.setItem('status', event.target.value);
    });

    const cloneAndSort = (array, callback) => [...array].sort(callback);

    const setCities = () => {
      cityElement.innerHTML = '';

      const rawPlaces = getRawPlaces();
      Object.entries(rawPlaces).forEach(([country, cities]) => {
        const optgroup = document.createElement('optgroup');
        optgroup.label = country;

        Object.keys(cities).forEach((city) => {
          const option = document.createElement('option');
          option.value = city;
          option.innerText = `${city} (${cities[city].length})`;

          optgroup.appendChild(option);
        });

        cityElement.appendChild(optgroup);
      });

      cityElement.value = selectedCity;
    };
    setCities();

    const placesContainerElement = document.getElementById('placesContainer');
    const setPlaces = () => {
      const rawPlaces = getRawPlaces();
      const allCities = Object.values(rawPlaces).flatMap((places) => Object.keys(places));
      if (!allCities.includes(selectedCity)) {
        selectedCity = allCities[0];
        cityElement.value = selectedCity;
        localStorage.setItem('city', selectedCity);
      }

      location.hash = encodeURIComponent(JSON.stringify({
        category: categoryElement.value,
        city: selectedCity,
        status: statusElement.value
      }));

      const headingKey = categoryElement.value;

      placesContainerElement.innerHTML = '';

      const selectedPlaces = [
        ...Object.values(rawPlaces)
          .flatMap((cityCollections) => Object.entries(cityCollections))
          .find(([city]) => city === selectedCity)[1]
      ];

      if (headingKey === 'area') {
        const withMultipleAreas = selectedPlaces.filter(({ area }) => Array.isArray(area));
        withMultipleAreas.forEach((place) => {
          // can't use index arg here since we are splicing on each iteration
          selectedPlaces.splice(selectedPlaces.indexOf(place), 1);
          const { area: areas, ...rest } = place;
          areas.forEach((area) => {
            selectedPlaces.push({
              ...rest,
              area
            });
          });
        });
      }

      const sortedPlaces = cloneAndSort(selectedPlaces, (a, b) => {
        if (a[headingKey] > b[headingKey]) {
          return 1;
        }

        if (b[headingKey] > a[headingKey]) {
          return -1;
        }

        return 0;
      });
      const placesByHeading = {};
      sortedPlaces.forEach((place) => {
        const headingValue = place[headingKey] || selectedCity;
        if (!placesByHeading[headingValue]) {
          placesByHeading[headingValue] = [];
        }

        placesByHeading[headingValue].push(place);
      });

      for (const [heading, places] of Object.entries(placesByHeading)) {
        const headingElement = document.createElement('span');
        headingElement.className = 'heading';
        headingElement.innerText = `${headingKey === 'type' ? `${emojisByType[heading]} ` : ''}${heading}`;
        placesContainerElement.appendChild(headingElement);

        const placesElement = document.createElement('div');
        places.forEach((place) => {
          const placeElement = document.createElement('div');

          const emojiElement = document.createElement('span');
          if (headingKey === 'area') {
            emojiElement.innerText = emojisByType[place.type];
          }

          const subHeadingElement = document.createElement('a');
          subHeadingElement.className = 'subHeading';
          subHeadingElement.href = place.url;
          subHeadingElement.target = '_blank';
          subHeadingElement.innerText = place.name;
          emojiElement.appendChild(subHeadingElement);

          const notesElement = document.createElement('div');
          notesElement.innerText = place.notes;

          placeElement.appendChild(emojiElement);
          if (headingKey === 'type' && place.area || headingKey === 'area') {
            const areaOrTypeElement = document.createElement('span');
            areaOrTypeElement.innerText = headingKey === 'type' ? (Array.isArray(place.area) ? cloneAndSort(place.area).join(', ') : place.area) : place.type;
            areaOrTypeElement.className = 'areaOrType';
            placeElement.appendChild(areaOrTypeElement);
          }
          placeElement.appendChild(notesElement);

          placesElement.appendChild(placeElement);
        });
        placesContainerElement.appendChild(placesElement);
      }
    };

    setPlaces();
  </script>
</body>
</html>
